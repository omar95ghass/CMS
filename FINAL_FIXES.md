# ุงูุฅุตูุงุญุงุช ุงูููุงุฆูุฉ ูููุดุงูู ุงููุชุจููุฉ

## ุงููุดุงูู ุงููุญูููุฉ:

### 1. โ ุฅุตูุงุญ ูุดููุฉ ุงููุฏุงุก ุงููุชุนุฏุฏ
**ุงููุดููุฉ:** ุนูุฏ ูุฏุงุก ูุณุชุฎุฏู ุนูู ุฏูุฑ ูุดุชุฑูุ ูุชู ุชุญุฏูุซ ุฌููุน ุงูุฃุณุทุฑ ุงูุชู ุชุญุชูู ุนูู ููุณ ุฑูู ุงูุฏูุฑ.

**ุงูุญู:**
- ุชุญุฏูุซ `php/call_specific.php` ูุงุณุชุฎุฏุงู `user_id` ูู ุงูุจุญุซ
- ุฅุถุงูุฉ ุดุฑุท `status = 'waiting'` ูุถูุงู ุชุญุฏูุซ ุงูุฏูุฑ ุงูุตุญูุญ ููุท
- ุฅุถุงูุฉ ุชุณุฌูู ูู ุงูุณุฌู ูุชุชุจุน ุนูููุงุช ุงููุฏุงุก

**ุงูููุฏ ุงููุญุฏุซ:**
```php
// ุงูุจุญุซ ุนู ุงูุฏูุฑ - ููุท ููุดุจุงู ุงููุญุฏุฏ
$stmt = $conn->prepare("SELECT id, number, clinic, status FROM queue WHERE user_id = ? AND number = ? AND date = ? AND status = 'waiting'");
$stmt->bind_param('iis', $userId, $number, $today);
```

### 2. โ ุฅุตูุงุญ ูุดููุฉ ุงูุชุญููู
**ุงููุดููุฉ:** ุฒุฑ ุงูุชุญููู ูุง ูุฌูุจ ุงูุดุจุงุจูู ุงููุชุงุญุฉ ููุง ูุนูู ุจุดูู ุตุญูุญ.

**ุงูุญู:**
- ุชุญุฏูุซ `php/transfer_queue.php` ูุงุณุชุฎุฏุงู ุฑูู ุงูุฏูุฑ ูุงูุฎุฏูุฉ ุจุฏูุงู ูู ID
- ุฅุตูุงุญ JavaScript ูู `counter.php` ูุฅุฑุณุงู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
- ุชุญุณูู ุฏุงูุฉ `loadAvailableWindows()` ูุน ุฅุถุงูุฉ console.log ููุชุชุจุน

**ุงูููุฏ ุงููุญุฏุซ:**
```javascript
// ุฅุฑุณุงู ุทูุจ ุงูุชุญููู
fetch('php/transfer_queue.php', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        number: number,
        clinic: clinic,
        target_user_id: targetUserId
    })
})
```

### 3. โ ุฅุตูุงุญ ูุดููุฉ ุงูุฎุฏูุฉ ูู ุงูุชุญููู
**ุงููุดููุฉ:** ูู ุงูุชุญูููุ ูุฌุจ ุงุณุชุฎุฏุงู ููุณ ุงูุฎุฏูุฉ ุงูุณุงุจูุฉ ููุฏูุฑ.

**ุงูุญู:**
- ุชุญุฏูุซ `php/transfer_queue.php` ูุงุณุชุฎุฏุงู `clinic` ูู ุงูุฏูุฑ ุงูุฃุตูู
- ุฅุฒุงูุฉ ุงูุญุงุฌุฉ ูุฅุฏุฎุงู ุงูุฎุฏูุฉ ูุฏููุงู
- ุถูุงู ููู ููุณ ุงูุฎุฏูุฉ ููุดุจุงู ุงูุฌุฏูุฏ

**ุงูููุฏ ุงููุญุฏุซ:**
```php
// ุงูุจุญุซ ุนู ุงูุฏูุฑ ุจุงูุฑูู ูุงูุฎุฏูุฉ
$stmt = $conn->prepare("
    SELECT q.*, u.window_number as current_window 
    FROM queue q 
    JOIN queue_users u ON q.user_id = u.id 
    WHERE q.user_id = ? AND q.number = ? AND q.clinic = ? AND q.date = CURDATE() AND q.status = 'waiting'
");
```

## ุงูุชุญุณููุงุช ุงููุถุงูุฉ:

### 1. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:
- ุฅุถุงูุฉ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุฅุถุงูุฉ console.log ููุชุชุจุน
- ุชุญุณูู ุฑุณุงุฆู ุงููุฌุงุญ

### 2. ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู:
- ุฅุถุงูุฉ ุฑุณุงุฆู ุชุฃููุฏ ุนูุฏ ุฌูุจ ุงูุดุจุงุจูู
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ
- ุฅุถุงูุฉ ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

### 3. ุชุญุณูู ุงูุฃูุงู:
- ุงูุชุญูู ูู ููููุฉ ุงูุฏูุฑ
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุฑ ูุจู ุงูุชุญููู
- ุชุณุฌูู ุนูููุงุช ุงูุชุญููู

## ููููุฉ ุงูุงุฎุชุจุงุฑ:

### 1. ุงุฎุชุจุงุฑ ุงููุฏุงุก ุงููุชุนุฏุฏ:
1. ุฃูุดุฆ ุฏูุฑ ูุฎุฏูุฉ ูุดุชุฑูุฉ ุจูู ุนุฏุฉ ุดุจุงุจูู
2. ูุงุฏู ุนูู ุงูุฏูุฑ ูู ุดุจุงู ูุงุญุฏ
3. ุชุฃูุฏ ูู ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุฑ ููุดุจุงู ุงููุญุฏุฏ ููุท
4. ุชุฃูุฏ ูู ุนุฏู ุชุฃุซุฑ ุงูุดุจุงุจูู ุงูุฃุฎุฑู

### 2. ุงุฎุชุจุงุฑ ุงูุชุญููู:
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุญููู"
2. ุฃุฏุฎู ุฑูู ุฏูุฑ ูู ุญุงูุฉ "waiting"
3. ุชุฃูุฏ ูู ุธููุฑ ุงูุดุจุงุจูู ุงููุชุงุญุฉ
4. ุงุฎุชุฑ ุดุจุงู ุขุฎุฑ ูุงุชู ุงูุชุญููู
5. ุชุฃูุฏ ูู ุญุฐู ุงูุฏูุฑ ูู ุงูุดุจุงู ุงูุฃุตูู
6. ุชุฃูุฏ ูู ุธููุฑ ุงูุฏูุฑ ูู ุงูุดุจุงู ุงูุฌุฏูุฏ

### 3. ุงุฎุชุจุงุฑ ุงูุฎุฏูุฉ:
1. ุฃูุดุฆ ุฏูุฑ ูุฎุฏูุฉ ูุนููุฉ
2. ุญูู ุงูุฏูุฑ ูุดุจุงู ุขุฎุฑ
3. ุชุฃูุฏ ูู ููู ููุณ ุงูุฎุฏูุฉ
4. ุชุฃูุฏ ูู ุนุฏู ุชุบููุฑ ุฑูู ุงูุฏูุฑ

## ุงููููุงุช ุงููุญุฏุซุฉ:

### 1. `php/call_specific.php`
- ุฅุถุงูุฉ ุดุฑุท `status = 'waiting'`
- ุฅุถุงูุฉ ุชุณุฌูู ูู ุงูุณุฌู
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ

### 2. `php/transfer_queue.php`
- ุชุบููุฑ ูู ุงุณุชุฎุฏุงู ID ุฅูู ุฑูู ุงูุฏูุฑ ูุงูุฎุฏูุฉ
- ุชุญุณูู ุงูุจุญุซ ุนู ุงูุฏูุฑ
- ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชุญูู

### 3. `counter.php`
- ุฅุตูุงุญ JavaScript ููุชุญููู
- ุชุญุณูู ุฏุงูุฉ `loadAvailableWindows()`
- ุฅุถุงูุฉ console.log ููุชุชุจุน

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ:

### 1. ุงููุฏุงุก ุงููุชุนุฏุฏ:
- โ ุงููุฏุงุก ูุญุฏุซ ููุดุจุงู ุงููุญุฏุฏ ููุท
- โ ุงูุดุจุงุจูู ุงูุฃุฎุฑู ูุง ุชุชุฃุซุฑ
- โ ุชุณุฌูู ุนูููุงุช ุงููุฏุงุก

### 2. ุงูุชุญููู:
- โ ุฌูุจ ุงูุดุจุงุจูู ุงููุชุงุญุฉ ูุนูู
- โ ุงูุชุญููู ูุชู ุจูุฌุงุญ
- โ ููู ููุณ ุงูุฎุฏูุฉ

### 3. ุงูุฃูุงู:
- โ ุงูุชุญูู ูู ููููุฉ ุงูุฏูุฑ
- โ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุฑ
- โ ุชุณุฌูู ุงูุนูููุงุช

---

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุงููุชุจููุฉ ุจูุฌุงุญ! ๐

## ููุฎุต ุงูุฅูุฌุงุฒุงุช:
- โ ุฅุตูุงุญ ูุดููุฉ ุงููุฏุงุก ุงููุชุนุฏุฏ
- โ ุฅุตูุงุญ ูุดููุฉ ุงูุชุญููู
- โ ุฅุตูุงุญ ูุดููุฉ ุงูุฎุฏูุฉ ูู ุงูุชุญููู
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุชุญุณูู ุงูุฃูุงู